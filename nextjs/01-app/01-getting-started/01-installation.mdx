---
title: 如何设置新的Next.js项目
nav_title: 安装指南
description: 使用 create-next-app CLI创建新的Next.js应用，并设置TypeScript、ESLint和模块路径别名。
---

{/* 本文档内容在App和Pages路由间共享。您可以使用`<PagesOnly>内容</PagesOnly>`组件添加特定于Pages路由的内容。任何共享内容不应包裹在组件中。*/}

## 系统要求

开始之前，请确保您的系统满足以下要求：

- [Node.js 18.18](https://nodejs.org/)或更高版本
- macOS、Windows(包括WSL)或Linux

## 自动安装

创建新Next.js应用最快的方法是使用[create-next-app](/docs/app/api-reference/cli/create-next-app)，它会自动为您设置一切。要创建项目，请运行：




```bash filename="终端" switcher
npx create-next-app@latest
```

```jsx filename="app/layout.js" switcher
# 使用 pnpm 创建新的 Next.js 项目（使用 App Router 和 TypeScript）
pnpm create next-app@latest nextjs-tutorial-01 --typescript --app --eslint --src-dir --import-alias "@/*"

# 进入项目目录
nextjs-tutorial-01

# 启动开发服务器
pnpm dev 
```




安装过程中，您会看到以下提示：

```txt filename="Terminal"
What is your project named? my-app
Would you like to use TypeScript? No / Yes
Would you like to use ESLint? No / Yes
Would you like to use Tailwind CSS? No / Yes
Would you like your code inside a `src/` directory? No / Yes
Would you like to use App Router? (recommended) No / Yes
Would you like to use Turbopack for `next dev`?  No / Yes
Would you like to customize the import alias (`@/*` by default)? No / Yes
What import alias would you like configured? @/*
```

回答完提示后， [`create-next-app`](/docs/app/api-reference/cli/create-next-app) 将创建一个以您项目名称命名的文件夹并安装所需依赖。
文档结构如下
```txt
.
├── README.md
├── app【目录】
│   ├── favicon.ico
│   ├── globals.css
│   ├── layout.tsx
│   └── page.tsx
├── next-env.d.ts
├── next.config.ts
├── node_modules【目录】
│   ├── @alloc
│   ├── @ampproject
│   ├── @emnapi
│   ├── @img
│   ├── @isaacs
│   ├── @jridgewell
│   ├── @next
│   ├── @swc
│   ├── @tailwindcss
│   ├── @types
│   ├── busboy
│   ├── caniuse-lite
│   ├── chownr
│   ├── client-only
│   ├── color
│   ├── color-convert
│   ├── color-name
│   ├── color-string
│   ├── csstype
│   ├── detect-libc
│   ├── enhanced-resolve
│   ├── graceful-fs
│   ├── is-arrayish
│   ├── jiti
│   ├── lightningcss
│   ├── lightningcss-linux-x64-gnu
│   ├── magic-string
│   ├── minipass
│   ├── minizlib
│   ├── mkdirp
│   ├── nanoid
│   ├── next
│   ├── picocolors
│   ├── postcss
│   ├── react
│   ├── react-dom
│   ├── scheduler
│   ├── semver
│   ├── sharp
│   ├── simple-swizzle
│   ├── source-map-js
│   ├── streamsearch
│   ├── styled-jsx
│   ├── tailwindcss
│   ├── tapable
│   ├── tar
│   ├── tslib
│   ├── typescript
│   ├── undici-types
│   └── yallist
├── package-lock.json
├── package.json
├── postcss.config.mjs
├── public【目录】
│   ├── file.svg
│   ├── globe.svg
│   ├── next.svg
│   ├── vercel.svg
│   └── window.svg
└── tsconfig.json
```

## 手动安装

要手动创建新的Next.js应用，请安装所需包:

```bash filename="Terminal"
npm install next@latest react@latest react-dom@latest
# pnpm add next@latest react@latest react-dom@latest
```

然后，在您的 `package.json` 文件中添加以下脚本：

```json filename="package.json"
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint"
  }
}
```

这些脚本对应应用开发的不同阶段：:

- `next dev`: 启动开发服务器.
- `next build`: 为生产环境构建应用.
- `next start`: 启动生产服务器.
- `next lint`: 运行 ESLint.

<AppOnly />




### 创建 `app` 目录

Next.js 使用文件系统路由，这意味着应用中的路由由文件结构决定。

创建一个 `app` 文件夹。然后在 `app` 内创建 `layout.tsx` 文件。该文件是[根布局](/docs/app/api-reference/file-conventions/layout#root-layouts)，必须包含 `<html>` 和 `<body>` 标签。

```tsx filename="app/layout.tsx" switcher
import type { Metadata } from "next";
// import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";

// const geistSans = Geist({
//   variable: "--font-geist-sans",
//   subsets: ["latin"],
// });

// const geistMono = Geist_Mono({
//   variable: "--font-geist-mono",
//   subsets: ["latin"],
// });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    // <html lang="en">
    <html lang="zh-CN">
      <body
        // className={`${geistSans.variable} ${geistMono.variable} antialiased`}
        // 参考理想汽车  https://www.lixiang.com/
        style={{fontFamily: "li-medium,Microsoft YaHei,SF Pro SC,SF Pro Display,PingFang SC,Segoe UI,Helvetica Neue,Helvetica,Arial,sans-serif"}}
      >
        {children}
      </body>
    </html>
  );
}

```

```jsx filename="app/layout.js" switcher
export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  )
}
```

创建首页 `app/page.tsx` 并添加初始内容：

```tsx filename="app/page.tsx" switcher
// 函数就是组件，组件名studly格式(大驼峰)
function FirstComponent() {
  // 演示文字大小，最大9xl，可以text-[100px]的方式自定义大小
  return <h1 className="text-9xl">长沙欢迎你!</h1>;
}
import type {ReactNode} from "react";

// 演示组件传参，children(不能写成其它的属性名，如abc会报错)是固定的，必须是ReactNode类型，否则会报错
function SecondComponent({children}:{children:ReactNode}){
  return (
    // 演示大小
    <div className="rounded-full text-3xl text-amber-300 bg-fuchsia-600  size-40 mx-auto flex justify-center items-center mt-30">
      {children}
      </div>
  )

}

// 不能将类型“{ children: string; }”分配给类型“IntrinsicAttributes & ReactNode”。
//  类型“{ children: string; }”缺少类型“ReactPortal”中的以下属性: type, props, keyts(2322)
// Error: Objects are not valid as a React child (found: object with keys {children}). If you meant to render a collection of children, use an array instead.
function ThirdComponent(children:ReactNode){
  return (
    // 演示大小
    <div className="rounded-full text-3xl text-amber-300 bg-green-600  size-40 mx-auto flex justify-center items-center mt-30">
      {children}
      </div>
  )
}

// 因为是默认导出，名字任意取
export default function Page123() {
  // 一行可以省略括号，多行不能省略括号
  // return <h1>Hello, Next.js!</h1>

  // return (<h1>
  //   分行写，Hello, Next.js!
  //   </h1>)

  // 演示22种颜色red,orange,amber,yellow,lime,green,emerald,teal,cyan,sky,blue,indigo,violet,purple,fuchsia,pink,rose,slate,gray,zinc,neutral,stone
  // 必须有一个根标签，如果没有使用<>和</>包起来
  return (
    <>
    <div className="text-white text-2xl bg-green-700 text-center p-4 m-8 rounded-xl">
      <h1>Hello, Next.js!</h1>
      <FirstComponent />
      <p className="text-[40px] text-lime-300">Welcome to the Next.js app directory!</p>
    </div>
    <SecondComponent>      岳麓书院    </SecondComponent>
     {/* <ThirdComponent>湖南大学</ThirdComponent> */}
    </>
  );
}
```

```jsx filename="app/page.js" switcher
export default function Page() {
  return <h1>Hello, Next.js!</h1>
}
```

当用户访问应用根路径(`/`)时，`layout.tsx` 和 `page.tsx` 都会被渲染。

> **须知**:
>
> - 如果忘记创建根布局，运行 `next dev` 时 Next.js 会自动创建此文件
> - 可选择使用项目根目录下的 [`src` 文件夹](/docs/app/api-reference/file-conventions/src-folder)来分离应用代码和配置文件

<Callout title="问题？" type="error" className="bg-red-500">
  - <h3>默认布局和默认首页文件名称能修改吗？</h3>
  <p>page.tsx改名报404错误</p>
  <p>layout.tsx改名以下错误</p>
  ```txt
  Error: Missing <html> and <body> tags in the root layout.
  Read more at https://nextjs.org/docs/messages/missing-root-layout-tags
  ```
  - <h3>默认布局和默认首页文件名称能修改吗？</h3>

</Callout>


### 创建 `public` 文件夹（可选）

在项目根目录创建 [`public` 文件夹](/docs/app/api-reference/file-conventions/public-folder)来存储图片、字体等静态资源。这些资源可通过根路径(`/`)引用。

例如 `public/profile.png` 可引用为 `/profile.png`：

```tsx filename="app/page.tsx" highlight={4} switcher
import Image from 'next/image'

export default function Page() {
  return <Image src="/profile.png" alt="Profile" width={100} height={100} />
}
```

```jsx filename="app/page.js" highlight={4} switcher
import Image from 'next/image'

export default function Page() {
  return <Image src="/profile.png" alt="Profile" width={100} height={100} />
}
```

## 运行开发服务器

1. 运行 `npm run dev` 启动开发服务器
2. 访问 `http://localhost:3000` 查看应用
3. 编辑<AppOnly>`app/page.tsx`</AppOnly>文件并保存，浏览器中即可看到更新结果

## 设置 TypeScript

> 最低 TypeScript 版本要求: `v4.5.2`

Next.js 内置 TypeScript 支持。要添加 TypeScript 到项目，只需将文件重命名为 `.ts`/`.tsx` 并运行 `next dev`。Next.js 会自动安装所需依赖并添加推荐的 `tsconfig.json` 配置。
```json filename="tsconfig.json"
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

### IDE 插件

Next.js 包含自定义 TypeScript 插件和类型检查器，VSCode 等编辑器可用其进行高级类型检查和自动补全。

在 VS Code 中启用插件：
1. 打开命令面板 (`Ctrl/⌘` + `Shift` + `P`)
2. 搜索 "TypeScript: Select TypeScript Version"
3. 选择 "Use Workspace Version"

详见 [TypeScript 参考文档](/docs/app/api-reference/config/next-config-js/typescript)

## 设置 ESLint

Next.js 内置 ESLint。使用 `create-next-app` 创建项目时会自动安装所需包并配置。

要为现有项目手动添加 ESLint，在 `package.json` 中添加 `next lint` 脚本：

```json filename="package.json"
{
  "scripts": {
    "lint": "next lint"
  }
}
```

运行 `npm run lint` 会引导完成安装和配置：

```bash filename="Terminal"
npm run lint
```

选项说明：
- **Strict**: 包含 Next.js 基础 ESLint 配置及更严格的 Core Web Vitals 规则集（推荐初次设置使用）
- **Base**: 仅包含 Next.js 基础 ESLint 配置
- **Cancel**: 跳过配置（选择此项可自定义 ESLint 配置）

选择后会自动安装 `eslint` 和 `eslint-config-next` 依赖，并创建包含所选配置的 `.eslintrc.json` 文件。

详见 [ESLint 插件文档](/docs/app/api-reference/config/next-config-js/eslint)

```json filename=".eslintrc.json"
{
  "extends": [
    "next/core-web-vitals",
    "next/typescript"
  ]
}

```

## 设置绝对导入和模块路径别名

Next.js 内置支持 `tsconfig.json` 和 `jsconfig.json` 中的 `"paths"` 和 `"baseUrl"` 选项，可将项目目录映射为绝对路径，使模块导入更简洁。

配置示例：
```json filename="tsconfig.json 或 jsconfig.json"
{
  "compilerOptions": {
    "baseUrl": "src/",
    "paths": {
      "@/styles/*": ["styles/*"],
      "@/components/*": ["components/*"]
    }
  }
}
```
所有 `"paths"` 路径都相对于 `baseUrl` 位置。

## 总结
- `rfc` 快捷键
- `npx create-next-app@latest` 或  `npx create-next-app@latest --use-pnpm` 或  `pnpm create next-app@latest`  
- 嵌套布局的参数，`{children}`
- 入口页名只能为 `page.js|tsx|jsx`
- 布局名为: `layout.tsx|jsx|js`
- 组件名字为大驼峰格式，返回值用()包起来，className和style写法，必须有一个根标签

        
