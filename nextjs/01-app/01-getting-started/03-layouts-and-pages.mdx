---
title: 如何创建布局和页面
nav_title: 布局和页面
description: 创建你的第一个页面和布局，并在它们之间建立链接。
related:
  title: API 参考
  description: 通过阅读 API 参考，了解本页提到的功能的更多信息。
  links:
    - app/api-reference/file-conventions/layout
    - app/api-reference/file-conventions/page
    - app/api-reference/components/link
---

Next.js 使用**基于文件系统的路由**，这意味着你可以通过文件夹和文件来定义路由。本页将指导你如何创建布局和页面，并在它们之间建立链接。

## 创建页面

**页面（page）** 是在特定路由上渲染的 UI。要创建页面，请在 `app` 目录中添加一个 [`page` 文件](/docs/app/api-reference/file-conventions/page)，并默认导出一个 React 组件。例如，创建首页（`/`）：

<Image
  alt="page.js 特殊文件"
  srcLight="/docs/light/page-special-file.png"
  srcDark="/docs/dark/page-special-file.png"
  width="1600"
  height="282"
/>

```tsx filename="app/page.tsx" switcher
export default function Page() {
  return <h1>Hello Next.js!</h1>
}
```

```jsx filename="app/page.js" switcher
export default function Page() {
  return <h1>Hello Next.js!</h1>
}
```

## 创建布局

布局（layout）是**多个页面共享**的 UI。在导航时，布局会保留状态、保持交互性且不会重新渲染。

你可以通过在 [`layout` 文件](/docs/app/api-reference/file-conventions/layout) 中默认导出一个 React 组件来定义布局。该组件应接受一个 `children` prop，它可以是一个页面或另一个[布局](#嵌套布局)。

例如，创建一个接受首页作为子项的布局，在 `app` 目录中添加一个 `layout` 文件：

<Image
  alt="layout.js 特殊文件"
  srcLight="/docs/light/layout-special-file.png"
  srcDark="/docs/dark/layout-special-file.png"
  width="1600"
  height="363"
/>

```tsx filename="app/layout.tsx" switcher
export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <body>
        {/* 布局 UI */}
        {/* 将 children 放置在你想渲染页面或嵌套布局的位置 */}
        <main>{children}</main>
      </body>
    </html>
  )
}
```

```jsx filename="app/layout.js" switcher
export default function DashboardLayout({ children }) {
  return (
    <html lang="en">
      <body>
        {/* 布局 UI */}
        {/* 将 children 放置在你想渲染页面或嵌套布局的位置 */}
        <main>{children}</main>
      </body>
    </html>
  )
}
```

上述布局称为[根布局](/docs/app/api-reference/file-conventions/layout#root-layouts)，因为它定义在 `app` 目录的根目录下。根布局是**必需的**，并且必须包含 `html` 和 `body` 标签。

## 创建嵌套路由

嵌套路由是由多个 URL 段组成的路由。例如，`/blog/[slug]` 路由由三个段组成：

- `/`（根段）
- `blog`（段）
- `[slug]`（叶段）

在 Next.js 中：

- **文件夹**用于定义映射到 URL 段的路由段。
- **文件**（如 `page` 和 `layout`）用于创建在段中显示的 UI。

要创建嵌套路由，你可以将文件夹相互嵌套。例如，要添加 `/blog` 路由，在 `app` 目录中创建一个名为 `blog` 的文件夹。然后，添加一个 `page.tsx` 文件使 `/blog` 公开可访问：

<Image
  alt="显示 blog 文件夹和 page.js 文件的文件层级结构"
  srcLight="/docs/light/blog-nested-route.png"
  srcDark="/docs/dark/blog-nested-route.png"
  width="1600"
  height="525"
/>

```tsx filename="app/blog/page.tsx" switcher
// 虚拟导入
import { getPosts } from '@/lib/posts'
import { Post } from '@/ui/post'

export default async function Page() {
  const posts = await getPosts()

  return (
    <ul>
      {posts.map((post) => (
        <Post key={post.id} post={post} />
      ))}
    </ul>
  )
}
```

```jsx filename="app/blog/[slug]/page.js" switcher
// 虚拟导入
import { getPosts } from '@/lib/posts'
import { Post } from '@/ui/post'

export default async function Page() {
  const posts = await getPosts()

  return (
    <ul>
      {posts.map((post) => (
        <Post key={post.id} post={post} />
      ))}
    </ul>
  )
}
```

你可以继续嵌套文件夹以创建更多嵌套路由。例如，要创建特定博客文章的路由，在 `blog` 内创建一个新的 `[slug]` 文件夹并添加一个 `page` 文件：

<Image
  alt="显示 blog 文件夹嵌套 slug 文件夹和 page.js 文件的文件层级结构"
  srcLight="/docs/light/blog-post-nested-route.png"
  srcDark="/docs/dark/blog-post-nested-route.png"
  width="1600"
  height="687"
/>

```tsx filename="app/blog/[slug]/page.tsx" switcher
function generateStaticParams() {}

export default function Page() {
  return <h1>Hello, Blog Post Page!</h1>
}
```

```jsx filename="app/blog/[slug]/page.js" switcher
function generateStaticParams() {}

export default function Page() {
  return <h1>Hello, Blog Post Page!</h1>
}
```

用方括号包裹文件夹名称（例如 `[slug]`）会创建一个[动态路由段](/docs/app/building-your-application/routing/dynamic-routes)，用于从数据生成多个页面（例如博客文章、产品页面等）。

## 嵌套布局

默认情况下，文件夹层级中的布局也会嵌套，这意味着它们通过 `children` prop 包裹子布局。你可以通过在特定路由段（文件夹）中添加 `layout` 来嵌套布局。

例如，要为 `/blog` 路由创建布局，在 `blog` 文件夹中添加一个新的 `layout` 文件：

<Image
  alt="显示根布局包裹 blog 布局的文件层级结构"
  srcLight="/docs/light/nested-layouts.png"
  srcDark="/docs/dark/nested-layouts.png"
  width="1600"
  height="768"
/>

```tsx filename="app/blog/layout.tsx" switcher
export default function BlogLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return <section>{children}</section>
}
```

```jsx filename="app/blog/layout.js" switcher
export default function BlogLayout({ children }) {
  return <section>{children}</section>
}
```

如果结合上述两个布局，根布局（`app/layout.js`）会包裹博客布局（`app/blog/layout.js`），而博客布局会包裹博客页面（`app/blog/page.js`）和博客文章页面（`app/blog/[slug]/page.js`）。

## 在页面之间建立链接

你可以使用 [`<Link>` 组件](/docs/app/api-reference/components/link) 在路由之间导航。`<Link>` 是 Next.js 内置的组件，扩展了 HTML `<a>` 标签以提供[预加载](/docs/app/building-your-application/routing/linking-and-navigating#2-prefetching)和[客户端导航](/docs/app/building-your-application/routing/linking-and-navigating#5-soft-navigation)功能。

例如，要生成博客文章列表，从 `next/link` 导入 `<Link>` 并将 `href` prop 传递给组件：

```tsx filename="app/ui/post.tsx" highlight={1,10} switcher
import Link from 'next/link'

export default async function Post({ post }) {
  const posts = await getPosts()

  return (
    <ul>
      {posts.map((post) => (
        <li key={post.slug}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

```jsx filename="app/ui/post.js" highlight={1,10}  switcher
import Link from 'next/link'

export default async function Post({ post }) {
  const posts = await getPosts()

  return (
    <ul>
      {posts.map((post) => (
        <li key={post.slug}>
          <Link href={`/blog/${post.slug}`}>{post.title}</Link>
        </li>
      ))}
    </ul>
  )
}
```

`<Link>` 是 Next.js 应用中在路由之间导航的主要推荐方式。不过，你也可以使用 [`useRouter` 钩子](/docs/app/api-reference/functions/use-router) 进行更高级的导航。
```

        